/* esri-leaflet-renderers - v2.0.1 - Wed Jan 20 2016 07:54:38 GMT-0800 (PST)
 * Copyright (c) 2016 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports,require("leaflet")):typeof define==="function"&&define.amd?define(["exports","leaflet"],factory):factory(global.L.esri.Renderers={},L)})(this,function(exports,L){"use strict";exports.Symbol=L.Class.extend({initialize:function(symbolJson,options){this._symbolJson=symbolJson;this.val=null;this._styles={};this._isDefault=false;this._layerTransparency=1;if(options&&options.layerTransparency){this._layerTransparency=1-options.layerTransparency/100}},pixelValue:function(pointValue){return pointValue*1.333},colorValue:function(color){return"rgb("+color[0]+","+color[1]+","+color[2]+")"},alphaValue:function(color){var alpha=color[3]/255;return alpha*this._layerTransparency},getSize:function(feature,sizeInfo){var attr=feature.properties;var field=sizeInfo.field;var size=0;var featureValue=null;if(field){featureValue=attr[field];var minSize=sizeInfo.minSize;var maxSize=sizeInfo.maxSize;var minDataValue=sizeInfo.minDataValue;var maxDataValue=sizeInfo.maxDataValue;var featureRatio;var normField=sizeInfo.normalizationField;var normValue=attr?parseFloat(attr[normField]):undefined;if(featureValue===null||normField&&(isNaN(normValue)||normValue===0)){return null}if(!isNaN(normValue)){featureValue/=normValue}if(minSize!==null&&maxSize!==null&&minDataValue!==null&&maxDataValue!==null){if(featureValue<=minDataValue){size=minSize}else if(featureValue>=maxDataValue){size=maxSize}else{featureRatio=(featureValue-minDataValue)/(maxDataValue-minDataValue);size=minSize+featureRatio*(maxSize-minSize)}}size=isNaN(size)?0:size}return size},getColor:function(feature,colorInfo){if(!(feature.properties&&colorInfo&&colorInfo.field&&colorInfo.stops)){return null}var attr=feature.properties;var featureValue=attr[colorInfo.field];var lowerBoundColor,upperBoundColor,lowerBound,upperBound;var normField=colorInfo.normalizationField;var normValue=attr?parseFloat(attr[normField]):undefined;if(featureValue===null||normField&&(isNaN(normValue)||normValue===0)){return null}if(!isNaN(normValue)){featureValue/=normValue}if(featureValue<=colorInfo.stops[0].value){return colorInfo.stops[0].color}var lastStop=colorInfo.stops[colorInfo.stops.length-1];if(featureValue>=lastStop.value){return lastStop.color}for(var i=0;i<colorInfo.stops.length;i++){var stopInfo=colorInfo.stops[i];if(stopInfo.value<=featureValue){lowerBoundColor=stopInfo.color;lowerBound=stopInfo.value}else if(stopInfo.value>featureValue){upperBoundColor=stopInfo.color;upperBound=stopInfo.value;break}}if(!isNaN(lowerBound)&&!isNaN(upperBound)){var range=upperBound-lowerBound;if(range>0){var upperBoundColorWeight=(featureValue-lowerBound)/range;if(upperBoundColorWeight){var lowerBoundColorWeight=(upperBound-featureValue)/range;if(lowerBoundColorWeight){var interpolatedColor=[];for(var j=0;j<4;j++){interpolatedColor[j]=Math.round(lowerBoundColor[j]*lowerBoundColorWeight+upperBoundColor[j]*upperBoundColorWeight)}return interpolatedColor}else{return upperBoundColor}}else{return lowerBoundColor}}}return null}});var _Symbol=exports.Symbol;exports.LineSymbol=_Symbol.extend({statics:{LINETYPES:["esriSLSDash","esriSLSDot","esriSLSDashDotDot","esriSLSDashDot","esriSLSSolid"]},initialize:function(symbolJson,options){_Symbol.prototype.initialize.call(this,symbolJson,options);this._fillStyles()},_fillStyles:function(){this._styles.lineCap="butt";this._styles.lineJoin="miter";this._styles.fill=false;if(!this._symbolJson){return}if(this._symbolJson.color){this._styles.color=this.colorValue(this._symbolJson.color);this._styles.opacity=this.alphaValue(this._symbolJson.color)}if(!isNaN(this._symbolJson.width)){this._styles.weight=this.pixelValue(this._symbolJson.width);var dashValues=[];switch(this._symbolJson.style){case"esriSLSDash":dashValues=[4,3];break;case"esriSLSDot":dashValues=[1,3];break;case"esriSLSDashDot":dashValues=[8,3,1,3];break;case"esriSLSDashDotDot":dashValues=[8,3,1,3,1,3];break}if(dashValues.length>0){for(var i=0;i<dashValues.length;i++){dashValues[i]*=this._styles.weight}this._styles.dashArray=dashValues.join(",")}}},style:function(feature,visualVariables){if(!this._isDefault&&visualVariables){if(visualVariables.sizeInfo){var calculatedSize=this.pixelValue(this.getSize(feature,visualVariables.sizeInfo));if(calculatedSize){this._styles.weight=calculatedSize}}if(visualVariables.colorInfo){var color=this.getColor(feature,visualVariables.colorInfo);if(color){this._styles.color=this.colorValue(color);this._styles.opacity=this.alphaValue(color)}}}return this._styles}});function lineSymbol(symbolJson,options){return new exports.LineSymbol(symbolJson,options)}exports.PolygonSymbol=_Symbol.extend({statics:{POLYGONTYPES:["esriSFSSolid"]},initialize:function(symbolJson,options){_Symbol.prototype.initialize.call(this,symbolJson,options);if(symbolJson){this._lineStyles=lineSymbol(symbolJson.outline,options).style();this._fillStyles()}},_fillStyles:function(){if(this._lineStyles){if(this._lineStyles.weight===0){this._styles.stroke=false}else{for(var styleAttr in this._lineStyles){this._styles[styleAttr]=this._lineStyles[styleAttr]}}}if(this._symbolJson){if(this._symbolJson.color&&exports.PolygonSymbol.POLYGONTYPES.indexOf(this._symbolJson.style>=0)){this._styles.fill=true;this._styles.fillColor=this.colorValue(this._symbolJson.color);this._styles.fillOpacity=this.alphaValue(this._symbolJson.color)}else{this._styles.fill=false;this._styles.fillOpacity=0}}},style:function(feature,visualVariables){if(!this._isDefault&&visualVariables&&visualVariables.colorInfo){var color=this.getColor(feature,visualVariables.colorInfo);if(color){this._styles.fillColor=this.colorValue(color);this._styles.fillOpacity=this.alphaValue(color)}}return this._styles}});function polygonSymbol(symbolJson,options){return new exports.PolygonSymbol(symbolJson,options)}var ShapeMarker=L.Path.extend({initialize:function(latlng,size,options){L.setOptions(this,options);this._size=size;this._latlng=L.latLng(latlng);this._svgCanvasIncludes()},_svgCanvasIncludes:function(){},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){},setLatLng:function(latlng){this._latlng=L.latLng(latlng);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setSize:function(size){this._size=size;return this.redraw()},getSize:function(){return this._size}});var CrossMarker=ShapeMarker.extend({initialize:function(latlng,size,options){ShapeMarker.prototype.initialize.call(this,latlng,size,options)},_updatePath:function(){this._renderer._updateCrossMarker(this)},_svgCanvasIncludes:function(){L.Canvas.include({_updateCrossMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;var ctx=this._ctx;ctx.beginPath();ctx.moveTo(latlng.x,latlng.y+offset);ctx.lineTo(latlng.x,latlng.y-offset);this._fillStroke(ctx,layer);ctx.moveTo(latlng.x-offset,latlng.y);ctx.lineTo(latlng.x+offset,latlng.y);this._fillStroke(ctx,layer)}});L.SVG.include({_updateCrossMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;if(L.Browser.vml){latlng._round();offset=Math.round(offset)}var str="M"+latlng.x+","+(latlng.y+offset)+"L"+latlng.x+","+(latlng.y-offset)+"M"+(latlng.x-offset)+","+latlng.y+"L"+(latlng.x+offset)+","+latlng.y;this._setPath(layer,str)}})}});var crossMarker=function(latlng,size,options){return new CrossMarker(latlng,size,options)};var XMarker=ShapeMarker.extend({initialize:function(latlng,size,options){ShapeMarker.prototype.initialize.call(this,latlng,size,options)},_updatePath:function(){this._renderer._updateXMarker(this)},_svgCanvasIncludes:function(){L.Canvas.include({_updateXMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;var ctx=this._ctx;ctx.beginPath();ctx.moveTo(latlng.x+offset,latlng.y+offset);ctx.lineTo(latlng.x-offset,latlng.y-offset);this._fillStroke(ctx,layer)}});L.SVG.include({_updateXMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;if(L.Browser.vml){latlng._round();offset=Math.round(offset)}var str="M"+(latlng.x+offset)+","+(latlng.y+offset)+"L"+(latlng.x-offset)+","+(latlng.y-offset)+"M"+(latlng.x-offset)+","+(latlng.y+offset)+"L"+(latlng.x+offset)+","+(latlng.y-offset);this._setPath(layer,str)}})}});var xMarker=function(latlng,size,options){return new XMarker(latlng,size,options)};var SquareMarker=ShapeMarker.extend({options:{fill:true},initialize:function(latlng,size,options){ShapeMarker.prototype.initialize.call(this,latlng,size,options)},_updatePath:function(){this._renderer._updateSquareMarker(this)},_svgCanvasIncludes:function(){L.Canvas.include({_updateSquareMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;var ctx=this._ctx;ctx.beginPath();ctx.moveTo(latlng.x+offset,latlng.y+offset);ctx.lineTo(latlng.x-offset,latlng.y+offset);ctx.lineTo(latlng.x-offset,latlng.y-offset);ctx.lineTo(latlng.x+offset,latlng.y-offset);ctx.closePath();this._fillStroke(ctx,layer)}});L.SVG.include({_updateSquareMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;if(L.Browser.vml){latlng._round();offset=Math.round(offset)}var str="M"+(latlng.x+offset)+","+(latlng.y+offset)+"L"+(latlng.x-offset)+","+(latlng.y+offset)+"L"+(latlng.x-offset)+","+(latlng.y-offset)+"L"+(latlng.x+offset)+","+(latlng.y-offset);str=str+(L.Browser.svg?"z":"x");this._setPath(layer,str)}})}});var squareMarker=function(latlng,size,options){return new SquareMarker(latlng,size,options)};var DiamondMarker=ShapeMarker.extend({options:{fill:true},initialize:function(latlng,size,options){ShapeMarker.prototype.initialize.call(this,latlng,size,options)},_updatePath:function(){this._renderer._updateDiamondMarker(this)},_svgCanvasIncludes:function(){L.Canvas.include({_updateDiamondMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;var ctx=this._ctx;ctx.beginPath();ctx.moveTo(latlng.x,latlng.y+offset);ctx.lineTo(latlng.x-offset,latlng.y);ctx.lineTo(latlng.x,latlng.y-offset);ctx.lineTo(latlng.x+offset,latlng.y);ctx.closePath();this._fillStroke(ctx,layer)}});L.SVG.include({_updateDiamondMarker:function(layer){var latlng=layer._point;var offset=layer._size/2;if(L.Browser.vml){latlng._round();offset=Math.round(offset)}var str="M"+latlng.x+","+(latlng.y+offset)+"L"+(latlng.x-offset)+","+latlng.y+"L"+latlng.x+","+(latlng.y-offset)+"L"+(latlng.x+offset)+","+latlng.y;str=str+(L.Browser.svg?"z":"x");this._setPath(layer,str)}})}});var diamondMarker=function(latlng,size,options){return new DiamondMarker(latlng,size,options)};exports.PointSymbol=_Symbol.extend({statics:{MARKERTYPES:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSX","esriPMS"]},initialize:function(symbolJson,options){_Symbol.prototype.initialize.call(this,symbolJson,options);if(options){this.serviceUrl=options.url}if(symbolJson){if(symbolJson.type==="esriPMS"){var url=this.serviceUrl+"images/"+this._symbolJson.url;this._iconUrl=options&&options.token?url+"?token="+options.token:url;this._icons={};this.icon=this._createIcon(this._symbolJson)}else{this._fillStyles()}}},_fillStyles:function(){if(this._symbolJson.outline&&this._symbolJson.size>0){this._styles.stroke=true;this._styles.weight=this.pixelValue(this._symbolJson.outline.width);this._styles.color=this.colorValue(this._symbolJson.outline.color);this._styles.opacity=this.alphaValue(this._symbolJson.outline.color)}else{this._styles.stroke=false}if(this._symbolJson.color){this._styles.fillColor=this.colorValue(this._symbolJson.color);this._styles.fillOpacity=this.alphaValue(this._symbolJson.color)}else{this._styles.fillOpacity=0}if(this._symbolJson.style==="esriSMSCircle"){this._styles.radius=this.pixelValue(this._symbolJson.size)/2}},_createIcon:function(options){var width=this.pixelValue(options.width);var height=width;if(options.height){height=this.pixelValue(options.height)}var xOffset=width/2;var yOffset=height/2;if(options.xoffset){xOffset+=this.pixelValue(options.xoffset)}if(options.yoffset){yOffset+=this.pixelValue(options.yoffset)}var icon=L.icon({iconUrl:this._iconUrl,iconSize:[width,height],iconAnchor:[xOffset,yOffset]});this._icons[options.width.toString()]=icon;return icon},_getIcon:function(size){var icon=this._icons[size.toString()];if(!icon){icon=this._createIcon({width:size})}return icon},pointToLayer:function(geojson,latlng,visualVariables){var size=this._symbolJson.size||this._symbolJson.width;if(!this._isDefault){if(visualVariables.sizeInfo){var calculatedSize=this.getSize(geojson,visualVariables.sizeInfo);if(calculatedSize){size=calculatedSize}}if(visualVariables.colorInfo){var color=this.getColor(geojson,visualVariables.colorInfo);if(color){this._styles.fillColor=this.colorValue(color);this._styles.fillOpacity=this.alphaValue(color)}}}if(this._symbolJson.type==="esriPMS"){return L.marker(latlng,{icon:this._getIcon(size)})}size=this.pixelValue(size);switch(this._symbolJson.style){case"esriSMSSquare":return squareMarker(latlng,size,this._styles);case"esriSMSDiamond":return diamondMarker(latlng,size,this._styles);case"esriSMSCross":return crossMarker(latlng,size,this._styles);case"esriSMSX":return xMarker(latlng,size,this._styles)}this._styles.radius=size/2;return L.circleMarker(latlng,this._styles)}});function pointSymbol(symbolJson,options){return new exports.PointSymbol(symbolJson,options)}exports.Renderer=L.Class.extend({options:{proportionalPolygon:false,clickable:true},initialize:function(rendererJson,options){this._rendererJson=rendererJson;this._pointSymbols=false;this._symbols=[];this._visualVariables=this._parseVisualVariables(rendererJson.visualVariables);L.Util.setOptions(this,options)},_parseVisualVariables:function(visualVariables){var visVars={};if(visualVariables){for(var i=0;i<visualVariables.length;i++){visVars[visualVariables[i].type]=visualVariables[i]}}return visVars},_createDefaultSymbol:function(){if(this._rendererJson.defaultSymbol){this._defaultSymbol=this._newSymbol(this._rendererJson.defaultSymbol);this._defaultSymbol._isDefault=true}},_newSymbol:function(symbolJson){if(symbolJson.type==="esriSMS"||symbolJson.type==="esriPMS"){this._pointSymbols=true;return pointSymbol(symbolJson,this.options)}if(symbolJson.type==="esriSLS"){return lineSymbol(symbolJson,this.options)}if(symbolJson.type==="esriSFS"){return polygonSymbol(symbolJson,this.options)}},_getSymbol:function(){},attachStylesToLayer:function(layer){if(this._pointSymbols){layer.options.pointToLayer=L.Util.bind(this.pointToLayer,this)}else{layer.options.style=L.Util.bind(this.style,this);layer._originalStyle=layer.options.style}},pointToLayer:function(geojson,latlng){var sym=this._getSymbol(geojson);if(sym&&sym.pointToLayer){return sym.pointToLayer(geojson,latlng,this._visualVariables)}return L.circleMarker(latlng,{radius:0,opacity:0})},style:function(feature){var userStyles;if(this.options.userDefinedStyle){userStyles=this.options.userDefinedStyle(feature)}var sym=this._getSymbol(feature);if(sym){return this.mergeStyles(sym.style(feature,this._visualVariables),userStyles)}else{return this.mergeStyles({opacity:0,fillOpacity:0},userStyles)}},mergeStyles:function(styles,userStyles){var mergedStyles={};var attr;for(attr in styles){if(styles.hasOwnProperty(attr)){mergedStyles[attr]=styles[attr]}}if(userStyles){for(attr in userStyles){if(userStyles.hasOwnProperty(attr)){mergedStyles[attr]=userStyles[attr]}}}return mergedStyles}});function renderer(rendererJson,options){return new exports.Renderer(rendererJson,options)}var _Renderer=renderer;exports.SimpleRenderer=exports.Renderer.extend({initialize:function(rendererJson,options){exports.Renderer.prototype.initialize.call(this,rendererJson,options);this._createSymbol()},_createSymbol:function(){if(this._rendererJson.symbol){this._symbols.push(this._newSymbol(this._rendererJson.symbol))}},_getSymbol:function(){return this._symbols[0]}});function simpleRenderer(rendererJson,options){return new exports.SimpleRenderer(rendererJson,options)}exports.ClassBreaksRenderer=exports.Renderer.extend({initialize:function(rendererJson,options){exports.Renderer.prototype.initialize.call(this,rendererJson,options);this._field=this._rendererJson.field;if(this._rendererJson.normalizationType&&this._rendererJson.normalizationType==="esriNormalizeByField"){this._normalizationField=this._rendererJson.normalizationField}this._createSymbols()},_createSymbols:function(){var symbol;var classbreaks=this._rendererJson.classBreakInfos;this._symbols=[];for(var i=classbreaks.length-1;i>=0;i--){if(this.options.proportionalPolygon&&this._rendererJson.backgroundFillSymbol){symbol=this._newSymbol(this._rendererJson.backgroundFillSymbol)}else{symbol=this._newSymbol(classbreaks[i].symbol)}symbol.val=classbreaks[i].classMaxValue;this._symbols.push(symbol)}this._symbols.sort(function(a,b){return a.val>b.val?1:-1});this._createDefaultSymbol();this._maxValue=this._symbols[this._symbols.length-1].val},_getSymbol:function(feature){var val=feature.properties[this._field];if(this._normalizationField){var normValue=feature.properties[this._normalizationField];if(!isNaN(normValue)&&normValue!==0){val=val/normValue}else{return this._defaultSymbol}}if(val>this._maxValue){return this._defaultSymbol}var symbol=this._symbols[0];for(var i=this._symbols.length-1;i>=0;i--){if(val>this._symbols[i].val){break}symbol=this._symbols[i]}return symbol}});function classBreaksRenderer(rendererJson,options){return new exports.ClassBreaksRenderer(rendererJson,options)}exports.UniqueValueRenderer=exports.Renderer.extend({initialize:function(rendererJson,options){exports.Renderer.prototype.initialize.call(this,rendererJson,options);this._field=this._rendererJson.field1;this._createSymbols()},_createSymbols:function(){var symbol;var uniques=this._rendererJson.uniqueValueInfos;for(var i=uniques.length-1;i>=0;i--){symbol=this._newSymbol(uniques[i].symbol);symbol.val=uniques[i].value;this._symbols.push(symbol)}this._createDefaultSymbol()},_getSymbol:function(feature){var val=feature.properties[this._field];if(this._rendererJson.fieldDelimiter&&this._rendererJson.field2){var val2=feature.properties[this._rendererJson.field2];if(val2){val+=this._rendererJson.fieldDelimiter+val2;var val3=feature.properties[this._rendererJson.field3];if(val3){val+=this._rendererJson.fieldDelimiter+val3}}}var symbol=this._defaultSymbol;for(var i=this._symbols.length-1;i>=0;i--){if(this._symbols[i].val==val){symbol=this._symbols[i]}}return symbol}});function uniqueValueRenderer(rendererJson,options){return new exports.UniqueValueRenderer(rendererJson,options)}L.esri.FeatureLayer.addInitHook(function(){var oldOnAdd=L.Util.bind(this.onAdd,this);var oldUnbindPopup=L.Util.bind(this.unbindPopup,this);var oldOnRemove=L.Util.bind(this.onRemove,this);L.Util.bind(this.createNewLayer,this);this.metadata(function(error,response){if(error){return}if(response&&response.drawingInfo){this._setRenderers(response)}this._metadataLoaded=true;if(this._loadedMap){oldOnAdd(this._loadedMap);this._addPointLayer(this._loadedMap)}},this);this.onAdd=function(map){this._loadedMap=map;if(this._metadataLoaded){oldOnAdd(this._loadedMap);this._addPointLayer(this._loadedMap)}};this.onRemove=function(map){oldOnRemove(map);if(this._pointLayer){var pointLayers=this._pointLayer.getLayers();for(var i in pointLayers){map.removeLayer(pointLayers[i])}}};this.unbindPopup=function(){oldUnbindPopup();if(this._pointLayer){var pointLayers=this._pointLayer.getLayers();for(var i in pointLayers){pointLayers[i].unbindPopup()}}};this._addPointLayer=function(map){if(this._pointLayer){this._pointLayer.addTo(map);this._pointLayer.bringToFront()}};this._createPointLayer=function(){if(!this._pointLayer){this._pointLayer=L.geoJson();this._pointLayerIds={};if(this._popup){var popupFunction=function(feature,layer){layer.bindPopup(this._popup(feature,layer),this._popupOptions)};this._pointLayer.options.onEachFeature=L.Util.bind(popupFunction,this)}}};this.createNewLayer=function(geojson){var fLayer=L.GeoJSON.geometryToLayer(geojson,this.options);if(this._hasProportionalSymbols){var centroid=this.getPolygonCentroid(geojson.geometry.coordinates);if(!(isNaN(centroid[0])||isNaN(centroid[0]))){this._createPointLayer();var featureId=geojson.id.toString();if(!this._pointLayerIds[featureId]){var pointjson=this.getPointJson(geojson,centroid);this._pointLayer.addData(pointjson);this._pointLayerIds[featureId]=true}this._pointLayer.bringToFront()}}return fLayer};this.getPolygonCentroid=function(coordinates){var pts=coordinates[0][0];if(pts.length===2){pts=coordinates[0]}var twicearea=0;var x=0;var y=0;var nPts=pts.length;var p1;var p2;var f;for(var i=0,j=nPts-1;i<nPts;j=i++){p1=pts[i];p2=pts[j];twicearea+=p1[0]*p2[1];twicearea-=p1[1]*p2[0];f=p1[0]*p2[1]-p2[0]*p1[1];x+=(p1[0]+p2[0])*f;y+=(p1[1]+p2[1])*f}f=twicearea*3;return[x/f,y/f]};this.getPointJson=function(geojson,centroid){return{type:"Feature",properties:geojson.properties,id:geojson.id,geometry:{type:"Point",coordinates:[centroid[0],centroid[1]]}}};this._checkForProportionalSymbols=function(geometryType,renderer){this._hasProportionalSymbols=false;if(geometryType==="esriGeometryPolygon"){if(renderer.backgroundFillSymbol){this._hasProportionalSymbols=true}if(renderer.classBreakInfos&&renderer.classBreakInfos.length){var sym=renderer.classBreakInfos[0].symbol;if(sym&&(sym.type==="esriSMS"||sym.type==="esriPMS")){this._hasProportionalSymbols=true}}}};this._setRenderers=function(geojson){var rend;var rendererInfo=geojson.drawingInfo.renderer;var options={url:this.options.url};if(this.options.token){options.token=this.options.token}if(geojson.drawingInfo.transparency){options.layerTransparency=geojson.drawingInfo.transparency}if(this.options.style){options.userDefinedStyle=this.options.style}switch(rendererInfo.type){case"classBreaks":this._checkForProportionalSymbols(geojson.geometryType,rendererInfo);if(this._hasProportionalSymbols){this._createPointLayer();var pRend=classBreaksRenderer(rendererInfo,options);pRend.attachStylesToLayer(this._pointLayer);options.proportionalPolygon=true}rend=classBreaksRenderer(rendererInfo,options);break;case"uniqueValue":rend=uniqueValueRenderer(rendererInfo,options);break;default:rend=simpleRenderer(rendererInfo,options)}rend.attachStylesToLayer(this)}});exports.VERSION="2.0.1";exports.renderer=renderer;exports.simpleRenderer=simpleRenderer;exports.classBreaksRenderer=classBreaksRenderer;exports.uniqueValueRenderer=uniqueValueRenderer;exports.pointSymbol=pointSymbol;exports.lineSymbol=lineSymbol;exports.polygonSymbol=polygonSymbol});
//# sourceMappingURL=./esri-leaflet-renderers.js.map